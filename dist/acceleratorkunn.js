!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(self,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){var e=/(\-*[0-9]+\.*[0-9]*)\s*([a-zA-z%]*)/gi.exec(t);return e?{num:parseFloat(e[1])||0,unit:"px"!==e[2]&&"%"!==e[2]?"px":e[2]}:{num:0,unit:"px"}}function r(){return{width:document.body.clientWidth,height:document.body.clientHeight}}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r().width;if(!t)return{num:0,originUnit:"px"};var i=n(t);return"px"===i.unit?{num:i.num,originUnit:i.unit}:"%"===i.unit?{num:i.num*parseFloat(e)/100,originUnit:i.unit}:void 0}function a(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r().width;return"px"===e?t+e:"%"===e?100*parseFloat(t)/parseFloat(i)+e:void 0}function o(t){return t.offsetWidth}function h(t){return t.offsetHeight}function l(t){var e=getComputedStyle(t);return"absolute"===e.position?e.left:""}function d(t){var e=getComputedStyle(t);return"absolute"===e.position?e.top:""}function u(t){var e=";"===t[t.length-1]?t:t+";";return"-ms-"+e+"-moz-"+e+"-webkit-"+e+"-o-"+e+e}function c(t){t.stopPropagation(),t.preventDefault()}function g(t){var e=[];return e.push({x:t.x,y:t.y}),e.push({x:t.x,y:t.yCenter}),e.push({x:t.x,y:t.y1}),e.push({x:t.xCenter,y:t.y}),e.push({x:t.xCenter,y:t.y1}),e.push({x:t.x1,y:t.y}),e.push({x:t.x1,y:t.yCenter}),e.push({x:t.x1,y:t.y1}),e}function f(t,e,i){if(!i.dragOutable){var n=i.parentElWidth-i.width,r=i.parentElHeight-i.height;t<0&&(t=0),t>n&&(t=n),e<0&&(e=0),e>r&&(e=r)}i.x=t,i.y=e,i.x1=t+i.width,i.y1=e+i.height,i.xCenter=t+i.width/2,i.yCenter=e+i.height/2}function p(t){c(t),this.dragOrign.x=t.pageX,this.dragOrign.y=t.pageY,this.isdragging=!0,this.domEl.style.userSelect="none",this.emit("dragStart",{target:this,event:t})}function m(t){var e=this.x,i=this.y;if(this.active){switch(t.keyCode){case 38:i-=1;break;case 40:i+=1;break;case 37:e-=1;break;case 39:e+=1}f(e,i,this),this._setStyle(),this._updatePositionConfig(),this.helpAxis&&this.countAxisLine(),this.emit("dragMove",{target:this,event:t})}}function y(t){if(this.isdragging){this.domEl.classList.add("ac_dragging");var e=t.pageX-this.dragOrign.x,i=t.pageY-this.dragOrign.y;f(this.x+e,this.y+i,this);var n=!1;this.adsort&&(n=this.countAdsorb(t,e,i)),n||(this.dragOrign.x=t.pageX,this.dragOrign.y=t.pageY),this._setStyle(),this._updatePositionConfig(),this.helpAxis&&this.countAxisLine(),this.emit("dragMove",{target:this,event:t})}}function x(t){this.isdragging&&(this.domEl.classList.remove("ac_dragging"),this.isdragging=!1,this.domEl.style.userSelect="auto",this.helpAxis&&this.hideAxisLine(),this.emit("dragEnd",{target:this,event:t}))}function v(t){this.isdragging&&(this.domEl.classList.remove("ac_dragging"),this.isdragging=!1,this.domEl.style.userSelect="auto",this.helpAxis&&this.hideAxisLine(),this.emit("dragEnd",{target:this,event:t}))}function b(t){this.active&&(this.domEl.classList.remove("ac_dragging"),this.helpAxis&&this.hideAxisLine(),this.emit("dragEnd",{target:this,event:t}))}function w(t){var e;t.dragable&&(t.dragHandler?("string"==typeof t.dragHandler&&(t.dragButton=t.domEl.querySelector(t.dragHandler)),e=t.dragHandler,("object"===("undefined"==typeof HTMLElement?"undefined":i(HTMLElement))?e instanceof HTMLElement:e&&"object"===i(e)&&1===e.nodeType&&"string"==typeof e.nodeName)&&(t.dragButton=t.dragDom)):t.dragButton=t.domEl,t.bindMousedown=p.bind(t),t.dragButton.addEventListener("mousedown",t.bindMousedown),t.bindMouseMove=y.bind(t),window.addEventListener("mousemove",t.bindMouseMove),t.bindMouseLeave=x.bind(t),window.addEventListener("mouseleave",t.bindMouseLeave),t.bindMouseUp=v.bind(t),window.addEventListener("mouseup",t.bindMouseUp),t.bindKeydown=m.bind(t),window.addEventListener("keydown",t.bindKeydown),t.bindKeyup=b.bind(t),window.addEventListener("keyup",t.bindKeyup))}function E(t){t.dragButton.removeEventListener("mousedown",t.bindMousedown),window.removeEventListener("mousemove",t.bindMouseMove),window.removeEventListener("onMouseleave",t.bindMouseLeave),window.removeEventListener("mouseup",t.bindMouseUp),window.removeEventListener("keydown",t.bindKeydown),window.removeEventListener("keyup",t.bindKeyup)}function C(){this.domEl.classList.add("ac_active");for(var t=0;t<this.resizeHandle.length;t++)this.resizeHandle[t].style.display="block"}function z(){this.domEl.classList.remove("ac_active");for(var t=0;t<this.resizeHandle.length;t++)this.resizeHandle[t].style.display="none"}function A(t,e,i){c(t),i.resizeOrign.x=t.pageX,i.resizeOrign.y=t.pageY,i.isdragging=!1,i.resizeMode=e,i.domEl.style.userSelect="none",i.emit("zoomStart",{target:i,type:i.resizeMode,event:t})}function _(t){c(t),this.hideControl()}function O(t,e,i,n){var r;return r=e?Math.max(s(e,n).num,t):Math.max(0,t),i&&(r=Math.min(s(i,n).num,t)),r}function H(t,e){var i=e.y+t,n=e.height-t,r=i+n;if(!e.dragOutable){var s=r,a=r;i=Math.min(s,Math.max(0,i)),n=Math.min(a,Math.max(0,n))}n=O(n,e.minHeight,e.maxHeight,e.parentElHeight),e.y=i,e.height=n,e.y1=i+n,e.yCenter=i+n/2}function L(t,e){var i=e.height+t;if(!e.dragOutable){var n=e.parentElHeight-e.y;i=Math.min(n,Math.max(0,i))}i=O(i,e.minHeight,e.maxHeight,e.parentElHeight),e.height=i,e.y1=e.y+i,e.yCenter=e.y+i/2}function M(t,e){var i=e.x+t,n=e.width-t,r=i+n;if(!e.dragOutable){var s=r,a=r;i=Math.min(s,Math.max(0,i)),n=Math.min(a,Math.max(0,n))}n=O(n,e.minWidth,e.maxWidth,e.parentElWidth),e.x=i,e.width=n,e.x1=i+n,e.xCenter=i+n/2}function S(t,e){var i=e.width+t;if(!e.dragOutable){var n=e.parentElWidth-e.x;i=Math.min(n,Math.max(0,i))}i=O(i,e.minWidth,e.maxWidth,e.parentElWidth),e.width=i,e.x1=e.x+i,e.xCenter=e.x+i/2}function W(t){if(this.resizeMode){this.domEl.classList.add("ac_resizing");var e=t.pageX-this.resizeOrign.x,i=t.pageY-this.resizeOrign.y;switch(this.resizeMode){case"tl":H(i,this),M(e,this);break;case"tm":H(i,this);break;case"tr":H(i,this),S(e,this);break;case"mr":S(e,this);break;case"br":L(i,this),S(e,this);break;case"bm":L(i,this);break;case"bl":L(i,this),M(e,this);break;case"ml":M(e,this)}this.resizeOrign.x=t.pageX,this.resizeOrign.y=t.pageY,this._setStyle(),this._updatePositionConfig(),this.helpAxis&&this.countAxisLine(),this.emit("zoomMove",{target:this,type:this.resizeMode,event:t})}}function U(t){this.resizeMode&&(this.domEl.classList.remove("ac_resizing"),this.resizeMode=null,this.domEl.style.userSelect="auto",this.helpAxis&&this.hideAxisLine(),this.emit("zoomEnd",{target:this,type:this.resizeMode,event:t}))}function k(t){if(!t.resizeable)return!1;var e=function(t,e){var i="border:1px solid #8c8c8c;border-radius:50%;width:10px;height:10px;background-color:#fff;position:absolute;display:none;";e.resizeClass&&(i="position:absolute;display:none;");var n=document.createElement("div"),r=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),o=document.createElement("div"),h=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div");return e.resizeClass&&(n.classList=e.resizeClass,r.classList=e.resizeClass,s.classList=e.resizeClass,a.classList=e.resizeClass,o.classList=e.resizeClass,h.classList=e.resizeClass,l.classList=e.resizeClass,d.classList=e.resizeClass),n.style.cssText=i+"top:0;left:0;cursor:nw-resize;"+u("transform:translate(-50%,-50%)"),r.style.cssText=i+"top:0;left:50%;cursor:n-resize;"+u("transform:translate(-50%,-50%)"),s.style.cssText=i+"top:0;right:0;cursor:ne-resize;"+u("transform:translate(50%,-50%)"),a.style.cssText=i+"top:50%;right:0;cursor:e-resize;"+u("transform:translate(50%,-50%)"),o.style.cssText=i+"bottom:0;right:0;cursor:se-resize;"+u("transform:translate(50%,50%)"),h.style.cssText=i+"bottom:0;left:50%;cursor:s-resize;"+u("transform:translate(-50%,50%)"),l.style.cssText=i+"bottom:0;left:0;cursor:sw-resize;"+u("transform:translate(-50%,50%)"),d.style.cssText=i+"top:50%;left:0;cursor:w-resize;"+u("transform:translate(-50%,-50%)"),{control_tl:n,control_tm:r,control_tr:s,control_mr:a,control_br:o,control_bm:h,control_bl:l,control_ml:d}}(t.domEl,t),i=e.control_tl,n=e.control_tm,r=e.control_tr,s=e.control_mr,a=e.control_br,o=e.control_bm,h=e.control_bl,l=e.control_ml,d=t.domEl;t.resizeHandle=[i,n,r,s,a,o,h,l],t.showControl=C,t.hideControl=z,i.addEventListener("mousedown",(function(e){A(e,"tl",t)})),n.addEventListener("mousedown",(function(e){A(e,"tm",t)})),r.addEventListener("mousedown",(function(e){A(e,"tr",t)})),s.addEventListener("mousedown",(function(e){A(e,"mr",t)})),a.addEventListener("mousedown",(function(e){A(e,"br",t)})),o.addEventListener("mousedown",(function(e){A(e,"bm",t)})),h.addEventListener("mousedown",(function(e){A(e,"bl",t)})),l.addEventListener("mousedown",(function(e){A(e,"ml",t)})),t.bindResizeMove=W.bind(t),window.addEventListener("mousemove",t.bindResizeMove),t.bindResizeUp=U.bind(t),window.addEventListener("mouseup",t.bindResizeUp),t.bindUnActive=_.bind(t),window.addEventListener("mousedown",t.bindUnActive),d.appendChild(i),d.appendChild(n),d.appendChild(r),d.appendChild(s),d.appendChild(a),d.appendChild(o),d.appendChild(h),d.appendChild(l)}function j(t){for(var e=0;e<t.resizeHandle.length;e++)t.domEl.removeChild(t.resizeHandle[e]);t.resizeHandle=[],window.removeEventListener("mousemove",t.bindResizeMove),window.removeEventListener("mouseup",t.bindResizeUp),window.removeEventListener("mousedown",t.bindUnActive)}function P(t){return function(t){if(Array.isArray(t))return T(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?T(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function I(){var t=[],e=[{value:this.x,list:[]},{value:this.xCenter,list:[]},{value:this.x1,list:[]}],i=[{value:this.y,list:[]},{value:this.yCenter,list:[]},{value:this.y1,list:[]}];if(!this.parentEl.querySelector(".ac_line")){console.log(this.axisColor);for(var n=0;n<3;n++){var r=document.createElement("div");r.classList="ac_line x_line x_line_"+n,r.style.cssText="background:"+this.axisColor+";width:1px;position:absolute;display:none;z-index:9999;",this.parentEl.appendChild(r);var s=document.createElement("div");s.classList="ac_line y_line y_line_"+n,s.style.cssText="background:"+this.axisColor+";height:1px;position:absolute;display:none;z-index:9999;",this.parentEl.appendChild(s)}}if(this.constructor._instanceList.length<2)return!1;for(var a=0;a<this.constructor._instanceList.length;a++){var o=this.constructor._instanceList[a];o.parentEl===this.parentEl&&o.id!==this.id&&t.push.apply(t,P(g(o)))}if(!(t.length>0))return!1;t.push.apply(t,P(g(this)));for(var h=0;h<e.length;h++)for(var l=e[h].value,d=0;d<t.length;d++)l===t[d].x&&e[h].list.push(t[d]);for(var u=0;u<i.length;u++)for(var c=i[u].value,f=0;f<t.length;f++)c===t[f].y&&i[u].list.push(t[f]);for(var p=0;p<e.length;p++)if(e[p].list.length>=4){var m=e[p].value,y=e[p].list.map((function(t){return t.y})),x=Math.min.apply(Math,P(y)),v=Math.max.apply(Math,P(y)),b=this.parentEl.querySelector(".x_line_"+p);b.style.left=m+"px",b.style.top=x+"px",b.style.height=v-x+"px",b.style.display="block"}else this.parentEl.querySelector(".x_line_"+p).style.display="none";for(var w=0;w<i.length;w++)if(i[w].list.length>=4){var E=i[w].value,C=i[w].list.map((function(t){return t.x})),z=Math.min.apply(Math,P(C)),A=Math.max.apply(Math,P(C)),_=this.parentEl.querySelector(".y_line_"+w);_&&(_.style.top=E+"px",_.style.left=z+"px",_.style.width=A-z+"px",_.style.display="block")}else{var O=this.parentEl.querySelector(".y_line_"+w);O&&(O.style.display="none")}}function $(){for(var t=0;t<3;t++){var e=this.parentEl.querySelector(".x_line_"+t);e&&(e.style.display="none")}for(var i=0;i<3;i++){var n=this.parentEl.querySelector(".y_line_"+i);n&&(n.style.display="none")}}function B(){for(var t=this.parentEl.getElementsByClassName("ac_line"),e=0;e<t.length;e++)this.parentEl.removeChild(t[e]),e--}function D(t){return function(t){if(Array.isArray(t))return R(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return R(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?R(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function N(t,e,i){if(this.constructor._instanceList.length<2)return!1;for(var n=[],r=[],s=0;s<this.constructor._instanceList.length;s++){var a=this.constructor._instanceList[s];a.parentEl===this.parentEl&&a.id!==this.id?r.push.apply(r,D(g(a))):a.parentEl===this.parentEl&&a.id==this.id&&n.push.apply(n,D(g(a)))}if(0==r.length)return!1;for(var o=!1,h="",l=0;l<n.length;l++){for(var d=n[l].x,u=n[l].y,c=0;c<r.length;c++){var f=r[c].x;if(Math.abs(d-f)<=5){var p=d-f;o=!0,h+="x",this.x=this.x-p,this.xCenter=this.x+this.width/2,this.x1=this.x+this.width;break}}for(var m=0;m<r.length;m++){var y=r[m].y;if(Math.abs(u-y)<=5){var x=u-y;o=!0,h+="y",this.y=this.y-x,this.yCenter=this.y+this.height/2,this.y1=this.y+this.height;break}}if(o)break}return"x"==h&&(Math.abs(e)>5&&(this.dragOrign.x=t.pageX),this.dragOrign.y=t.pageY),"y"==h&&(Math.abs(i)>5&&(this.dragOrign.y=t.pageY),this.dragOrign.x=t.pageX),"xy"==h&&(Math.abs(e)>5&&(this.dragOrign.x=t.pageX),Math.abs(i)>5&&(this.dragOrign.y=t.pageY)),!!o}function X(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function K(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?q(Object(i),!0).forEach((function(e){F(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):q(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function F(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function J(t,e){return(J=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Q(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}t.r(e),t.d(e,{Accelerator:()=>et,VueAccelerator:()=>rt});var tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&J(t,e)}(g,t);var e,i,n,r,u=(n=g,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Z(n);if(r){var i=Z(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return Q(this,t)});function g(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(V(this,g),e=u.call(this),!t)throw Error("Accelerator 必须绑定一个dom元素");if(!t.parentNode)throw Error("Accelerator 必须有父元素");var n=o(t),r=h(t),s=l(t),a=d(t);return e.config=K(K({},{id:g.ID,x:s||g.x,y:a||g.y,width:n||g.width,height:r||g.height,minWidth:g.minWidth||0,minHeight:g.minHeight||0,maxWidth:g.maxWidth||null,maxHeight:g.maxHeight||null,autoCount:g.autoCount,dragable:g.dragable,dragOutable:g.dragOutable,resizeable:g.resizeable,helpAxis:g.helpAxis,adsort:g.adsort,axisColor:g.axisColor,resizeClass:g.resizeClass,dragHandler:g.dragHandler}),i),e.config.id=g.ID,e.domEl=t,e.parentEl=t.parentNode,e.parentElWidth=o(e.parentEl),e.parentElHeight=h(e.parentEl),e.id=null,e.x=null,e.y=null,e.width=null,e.height=null,e.minWidth=null,e.minHeight=null,e.maxWidth=null,e.maxHeight=null,e.autoCount=!1,e.dragable=!0,e.dragOutable=!0,e.resizeable=!0,e.helpAxis=!0,e.adsort=!0,e.axisColor=null,e.resizeClass=null,e.dragHandler=null,e.x1=null,e.y1=null,e.xCenter=null,e.yCenter=null,e.xUnit=null,e.yUnit=null,e.widthUnit=null,e.heightUnit=null,e.dragOrign={x:0,y:0},e.resizeOrign={x:0,y:0},e.isdragging=!1,e.resizeMode=null,e.active=!1,e.resizeHandle=[],e.watchParentInterval=null,e._init(),e}return e=g,(i=[{key:"_init",value:function(){var t;this._computedConfig(this.config),console.log(this),this.parentEl.style.position="relative",this.parentEl.style.overflow="visible",this._setStyle(),this.autoCount&&this._updateStaticConfig(),g.ID++,g._instanceList.push(this),this.watchParentInterval=setInterval(this.resize.bind(this),300),this.bindSelect=this.select.bind(this),this.domEl.addEventListener("mousedown",this.bindSelect),w(this),k(this),(t=this).countAxisLine=I,t.hideAxisLine=$,t.removeAxisLine=B,function(t){t.countAdsorb=N}(this)}},{key:"_computedConfig",value:function(t){this.id=t.id;var e=s(t.x,this.parentElWidth);this.x=e.num,this.xUnit=e.originUnit;var i=s(t.y,this.parentElHeight);this.y=i.num,this.yUnit=i.originUnit;var n=s(t.width,this.parentElWidth),r=s(t.minWidth,this.parentElWidth);if(this.width=Math.max(n.num,r.num),t.maxWidth){var a=s(t.maxWidth,this.parentElWidth);this.width=Math.min(this.width,a.num)}this.widthUnit=n.originUnit;var o=s(t.height,this.parentElHeight),h=s(t.minHeight,this.parentElHeight);if(this.height=Math.max(h.num,o.num),t.maxWidth){var l=s(t.maxHeight,this.parentElHeight);this.height=Math.min(this.height,l.num)}this.heightUnit=o.originUnit,this.minWidth=t.minWidth,this.minHeight=t.minHeight,this.maxWidth=t.maxWidth,this.maxHeight=t.maxHeight,this.autoCount=t.autoCount,this.dragable=t.dragable,this.dragOutable=t.dragOutable,this.resizeable=t.resizeable,this.helpAxis=t.helpAxis,this.adsort=t.adsort,this.axisColor=t.axisColor,this.resizeClass=t.resizeClass,this.dragHandler=t.dragHandler,this.x1=this.x+this.width,this.y1=this.y+this.height,this.xCenter=this.x+this.width/2,this.yCenter=this.y+this.height/2}},{key:"_setStyle",value:function(){this.domEl.style.position="absolute",this.domEl.style.left=this.x+"px",this.domEl.style.top=this.y+"px",this.domEl.style.width=this.width+"px",this.domEl.style.height=this.height+"px"}},{key:"_updatePositionConfig",value:function(){this.config.x=a(this.x,this.xUnit,this.parentElWidth),this.config.y=a(this.y,this.yUnit,this.parentElHeight),this.config.width=a(this.width,this.widthUnit,this.parentElWidth),this.config.height=a(this.height,this.heightUnit,this.parentElHeight),this.emit("update",{target:this})}},{key:"_updateStaticConfig",value:function(){var t=this.x+this.width,e=this.y;t+this.width>this.parentElWidth&&(t=0,e=this.y+this.height),g.x=a(t,this.xUnit,this.parentElWidth),g.y=a(e,this.yUnit,this.parentElHeight),g.width=a(this.width,this.widthUnit,this.parentElWidth),g.height=a(this.height,this.heightUnit,this.parentElHeight),g.minWidth=this.minWidth,g.minHeight=this.minHeight,g.maxWidth=this.maxWidth,g.maxHeight=this.maxHeight,g.autoCount=this.autoCount,g.dragable=this.dragable,g.dragOutable=this.dragOutable,g.resizeable=this.resizeable,g.helpAxis=this.helpAxis,g.adsort=this.adsort}},{key:"attr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=Y(t),n=this.dragable,r=this.resizeable,s=this.resizeClass,a=this.axisColor,o=this.dragHandler;if("string"===i){if(!e&&!1!==e)return this.config[t];"id"!=t&&(this.config[t]=e)}else"object"===i&&(t.id&&delete t.id,this.config=K(K({},this.config),t));this.config.axisColor||(this.config.axisColor=g.axisColor),this._computedConfig(this.config),this._setStyle(),this.dragable!=n&&(this.dragable?w(this):E(this)),this.dragHandler!=o&&(this.dragHandler?w(this):E(this)),this.resizeable!=r&&(this.resizeable?k(this):j(this)),this.axisColor!=a&&this.removeAxisLine(),this.resizeClass!=s&&(j(this),k(this)),this.emit("update",{target:this})}},{key:"resize",value:function(){var t=o(this.parentEl),e=h(this.parentEl);t==this.parentElWidth&&e==this.parentElHeight||(this.parentElWidth=t,this.parentElHeight=e,this._computedConfig(this.config),this._setStyle(),this.emit("resize",{target:this}))}},{key:"select",value:function(t){t&&c(t),this.constructor.setActive(this),this.emit("select",{target:this})}},{key:"changeToPx",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"==typeof t&&(t=[t]),0==t.length?(this.xUnit="px",this.yUnit="px",this.widthUnit="px",this.heightUnit="px"):("x".indexOf(t)>-1&&(this.xUnit="px"),"y".indexOf(t)>-1&&(this.yUnit="px"),"width".indexOf(t)>-1&&(this.widthUnit="px"),"height".indexOf(t)>-1&&(this.heightUnit="px")),this._updatePositionConfig()}},{key:"changeToPercent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];"string"==typeof t&&(t=[t]),0==t.length?(this.xUnit="%",this.yUnit="%",this.widthUnit="%",this.heightUnit="%"):("x".indexOf(t)>-1&&(this.xUnit="%"),"y".indexOf(t)>-1&&(this.yUnit="%"),"width".indexOf(t)>-1&&(this.widthUnit="%"),"height".indexOf(t)>-1&&(this.heightUnit="%")),this._updatePositionConfig()}},{key:"destroy",value:function(){var t=this;this.emit("beforeDestroy",{target:this}),clearInterval(this.watchParentInterval),E(this),j(this),this.domEl.removeEventListener("mousedown",this.bindSelect),this.watchParentInterval=null;var e=g._instanceList.findIndex((function(e){return t.id===e.id}));g._instanceList.splice(e,1),this.emit("destroyed",{target:this})}}])&&G(e.prototype,i),g}(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.handlers={}}var e,i;return e=t,(i=[{key:"on",value:function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e)}},{key:"emit",value:function(t,e){e.target||(e.target=this),this.handlers[t]instanceof Array&&this.handlers[t].forEach((function(t){t(e)}))}},{key:"off",value:function(t,e){if(this.handlers[t]instanceof Array){for(var i=this.handlers[t],n=0,r=i.length;n<r&&i[n]!==e;n++);i.splice(n,1)}}}])&&X(e.prototype,i),t}());!function(t){t.ID=1,t.x=0,t.y=0,t.width="200px",t.height="200px",t.minWidth="0px",t.minHeight="0px",t.autoCount=!1,t.dragable=!0,t.dragOutable=!0,t.resizeable=!0,t.helpAxis=!0,t.adsort=!0,t.axisColor="#f557ff",t.resizeClass="",t._instanceList=[],t.setStaticConfig=function(e){t.x=e.x||t.x,t.y=e.y||t.y,t.width=e.width||t.width,t.height=e.height||t.height,t.minWidth=e.minWidth||t.minWidth,t.minHeight=e.minHeight||t.minHeight,e.maxWidth&&(t.maxWidth=e.maxWidth),e.maxHeight&&(t.maxHeight=e.maxHeight),e.dragHander&&(t.dragHander=e.dragHander),t.autoCount=e.autoCount||t.autoCount,t.dragable=e.dragable||t.dragable,t.dragOutable=e.dragOutable||t.dragOutable,t.resizeable=e.resizeable||t.resizeable,t.helpAxis=e.helpAxis||t.helpAxis,t.adsort=e.adsort||t.adsort,t.axisColor=e.axisColor||t.axisColor,t.resizeClass=e.resizeClass||t.resizeClass},t.setActive=function(e){for(var i=0;i<t._instanceList.length;i++){var n=t._instanceList[i];n.id!==e.id?(n.resizeable&&n.hideControl(),n.active=!1):(n.resizeable&&n.showControl(),n.active=!0)}},t.destroyAll=function(){for(var e=0;e<t._instanceList.length;e++)t._instanceList[e].destroy(),e--}}(tt),window.Accelerator=tt;const et=tt;var it={inserted:function(t,e,i){t.ackun=new et(t,e.value),t.ackun.on("dragMove",(function(t){i.context[e.expression]=t.target.config})),t.ackun.on("zoomMove",(function(t){i.context[e.expression]=t.target.config}))},update:function(t,e){t.ackun.attr(e.value)},unbind:function(t){t.ackun.destroy()}},nt={render:function(t){return t("div",{ref:"acceleratorRef"},this.$slots.default)},props:{width:{type:[String,Number],default:"200px"},height:{type:[String,Number],default:"200px"},x:[String,Number],y:[String,Number],minWidth:[String,Number],minHeight:[String,Number],maxWidth:[String,Number],maxHeight:[String,Number],autoCount:Boolean,dragable:Boolean,dragOutable:Boolean,resizeable:Boolean,helpAxis:Boolean,adsort:Boolean,axisColor:String,resizeClass:String,dragHandler:String},data:function(){return{Ac:null}},mounted:function(){var t=this,e={};this.width&&(e.width=this.width),this.height&&(e.height=this.height),this.x&&(e.x=this.x),this.y&&(e.y=this.y),(this.autoCount||!1===this.autoCount)&&(e.autoCount=this.autoCount),(this.dragable||!1===this.dragable)&&(e.dragable=this.dragable),(this.dragOutable||!1===this.dragOutable)&&(e.dragOutable=this.dragOutable),(this.resizeable||!1===this.resizeable)&&(e.resizeable=this.resizeable),(this.helpAxis||!1===this.helpAxis)&&(e.helpAxis=this.helpAxis),(this.adsort||!1===this.adsort)&&(e.adsort=this.adsort),this.axisColor&&(e.axisColor=this.axisColor),this.resizeClass&&(e.resizeClass=this.resizeClass),this.dragHandler&&(e.dragHandler=this.dragHandler),this.Ac=new et(this.$refs.acceleratorRef,e),this.$emit("created",{target:this.Ac}),this.Ac.on("destroyed",(function(e){t.$emit("destroyed",e)})),this.Ac.on("beforeDestroy",(function(e){t.$emit("beforeDestroy",e)})),this.Ac.on("dragStart",(function(e){t.$emit("dragStart",e)})),this.Ac.on("dragMove",(function(e){t.$emit("dragMove",e)})),this.Ac.on("dragEnd",(function(e){t.$emit("dragEnd",e)})),this.Ac.on("zoomStart",(function(e){t.$emit("zoomStart",e)})),this.Ac.on("zoomMove",(function(e){t.$emit("zoomMove",e)})),this.Ac.on("zoomEnd",(function(e){t.$emit("zoomEnd",e)})),this.Ac.on("resize",(function(e){t.$emit("seresizelect",e)})),this.Ac.on("update",(function(e){t.$emit("update",e)})),this.Ac.on("select",(function(e){t.$emit("select",e)}))},watch:{width:function(t,e){t!==e&&this.Ac.attr("width",t)},height:function(t,e){t!==e&&this.Ac.attr("height",t)},x:function(t,e){t!==e&&this.Ac.attr("x",t)},y:function(t,e){t!==e&&this.Ac.attr("y",t)},minWidth:function(t,e){t!==e&&this.Ac.attr("minWidth",t)},minHeight:function(t,e){t!==e&&this.Ac.attr("minHeight",t)},maxWidth:function(t,e){t!==e&&this.Ac.attr("maxWidth",t)},maxHeight:function(t,e){t!==e&&this.Ac.attr("maxHeight",t)},autoCount:function(t,e){t!==e&&this.Ac.attr("autoCount",t)},dragable:function(t,e){t!==e&&this.Ac.attr("dragable",t)},dragOutable:function(t,e){t!==e&&this.Ac.attr("dragOutable",t)},resizeable:function(t,e){t!==e&&this.Ac.attr("resizeable",t)},helpAxis:function(t,e){t!==e&&this.Ac.attr("helpAxis",t)},adsort:function(t,e){t!==e&&this.Ac.attr("adsort",t)},axisColor:function(t,e){t!==e&&this.Ac.attr("axisColor",t)},resizeClass:function(t,e){t!==e&&this.Ac.attr("resizeClass",t)},dragHandler:function(t,e){t!==e&&this.Ac.attr("dragHandler",t)}},beforDestroy:function(){this.Ac.destroy()}};const rt={install:function(t){t.directive("accelerator",it),t.component("accelerator",nt)}};return e})()}));