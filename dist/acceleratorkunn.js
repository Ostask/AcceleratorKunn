!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var i=e();for(var n in i)("object"==typeof exports?exports:t)[n]=i[n]}}(self,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};function i(t){var e=/([0-9]+\.*[0-9]*)\s*([a-zA-z%]*)/gi.exec(t);return e?{num:parseFloat(e[1])||0,unit:"px"!==e[2]&&"%"!==e[2]?"px":e[2]}:{num:0,unit:"px"}}function n(){return{width:document.body.clientWidth,height:document.body.clientHeight}}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n().width;if(!t)return{num:0,originUnit:"px"};var r=i(t);return"px"===r.unit?{num:r.num,originUnit:r.unit}:"%"===r.unit?{num:r.num*parseFloat(e)/100,originUnit:r.unit}:void 0}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n().width;return"px"===t.originUnit?t.num+t.originUnit:"%"===t.originUnit?100*parseFloat(t.num)/parseFloat(e)+t.originUnit:void 0}function s(t){return t.offsetWidth}function a(t){return t.offsetHeight}function h(t){var e=getComputedStyle(t);return"absolute"===e.position?e.left:""}function u(t){var e=getComputedStyle(t);return"absolute"===e.position?e.top:""}function l(t){var e=";"===t[t.length-1]?t:t+";";return"-ms-"+e+"-moz-"+e+"-webkit-"+e+"-o-"+e+e}function d(t){this.dragOrign.x=t.pageX,this.dragOrign.y=t.pageY,this.isdragging=!0,this.domEl.style.userSelect="none"}function c(t){if(this.isdragging){var e=t.pageX-this.dragOrign.x,i=t.pageY-this.dragOrign.y,n=this.x.num+e,r=this.y.num+i;if(!this.dragOutable){var o=this.parentElWidth-this.width.num,s=this.parentElHeight-this.height.num;n<0&&(n=0),n>o&&(n=o),r<0&&(r=0),r>s&&(r=s)}this.x.num=n,this.y.num=r,this.x1.num=n+this.width.num,this.y1.num=r+this.height.num,this.dragOrign.x=t.pageX,this.dragOrign.y=t.pageY,this._setStyle(),this._updatePositionConfig()}}function g(t){this.isdragging&&(this.isdragging=!1,this.domEl.style.userSelect="auto")}function m(t){this.isdragging=!1,this.domEl.style.userSelect="auto"}function f(t){t.dragable&&(t.bindMousedown=d.bind(t),t.domEl.addEventListener("mousedown",t.bindMousedown),t.bindMouseMove=c.bind(t),window.addEventListener("mousemove",t.bindMouseMove),t.bindMouseLeave=g.bind(t),window.addEventListener("mouseleave",t.bindMouseLeave),t.bindMouseUp=m.bind(t),window.addEventListener("mouseup",t.bindMouseUp))}function p(t){t.domEl.removeEventListener("mousedown",t.bindMousedown),window.removeEventListener("mousemove",t.bindMouseMove),window.removeEventListener("onMouseleave",t.bindMouseLeave),window.removeEventListener("mouseup",t.bindMouseUp)}function b(t,e,i){!function(t){t.stopPropagation(),t.preventDefault()}(t),i.resizeOrign.x=t.pageX,i.resizeOrign.y=t.pageY,i.isdragging=!1,i.resizeMode=e,i.domEl.style.userSelect="none"}function v(t){var e,i,n,r,o,s,a,h,u=this;function l(){if(r=u.y.num+s,i=u.height.num-s,a=r+i,!u.dragOutable){var t=a,e=a;r=Math.min(t,Math.max(0,r)),i=Math.min(e,Math.max(0,i))}u.y.num=r,u.height.num=i,u.y1.num=r+i}function d(){if(i=u.height.num+s,!u.dragOutable){var t=u.parentElHeight-u.y.num;i=Math.min(t,Math.max(0,i))}u.height.num=i}function c(){if(n=u.x.num+o,e=u.width.num-o,h=n+e,!u.dragOutable){var t=h,i=h;n=Math.min(t,Math.max(0,n)),e=Math.min(i,Math.max(0,e))}u.x.num=n,u.width.num=e,u.x1.num=n+e}function g(){if(e=u.width.num+o,!u.dragOutable){var t=u.parentElWidth-u.x.num;e=Math.min(t,Math.max(0,e))}u.width.num=e}if(this.resizeMode){switch(o=t.pageX-this.resizeOrign.x,s=t.pageY-this.resizeOrign.y,this.resizeMode){case"tl":l(),c();break;case"tm":l();break;case"tr":l(),g();break;case"mr":g();break;case"br":d(),g();break;case"bm":d();break;case"bl":d(),c();break;case"ml":c()}this.resizeOrign.x=t.pageX,this.resizeOrign.y=t.pageY,this._setStyle(),this._updatePositionConfig()}}function y(t){this.resizeMode=null,this.domEl.style.userSelect="auto"}function w(t){var e=function(t){var e="border:1px solid #000;width:10px;height:10px;background-color:#fff;position:absolute;",i=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),a=document.createElement("div"),h=document.createElement("div"),u=document.createElement("div");return i.style.cssText=e+"top:0;left:0;cursor:nw-resize;"+l("transform:translate(-50%,-50%)"),n.style.cssText=e+"top:0;left:50%;cursor:n-resize;"+l("transform:translate(-50%,-50%)"),r.style.cssText=e+"top:0;right:0;cursor:ne-resize;"+l("transform:translate(50%,-50%)"),o.style.cssText=e+"top:50%;right:0;cursor:e-resize;"+l("transform:translate(50%,-50%)"),s.style.cssText=e+"bottom:0;right:0;cursor:se-resize;"+l("transform:translate(50%,50%)"),a.style.cssText=e+"bottom:0;left:50%;cursor:s-resize;"+l("transform:translate(-50%,50%)"),h.style.cssText=e+"bottom:0;left:0;cursor:sw-resize;"+l("transform:translate(-50%,50%)"),u.style.cssText=e+"top:50%;left:0;cursor:w-resize;"+l("transform:translate(-50%,-50%)"),{control_tl:i,control_tm:n,control_tr:r,control_mr:o,control_br:s,control_bm:a,control_bl:h,control_ml:u}}(t.domEl),i=e.control_tl,n=e.control_tm,r=e.control_tr,o=e.control_mr,s=e.control_br,a=e.control_bm,h=e.control_bl,u=e.control_ml,d=t.domEl;t.resizeHandle=[i,n,r,o,s,a,h,u],i.addEventListener("mousedown",(function(e){b(e,"tl",t)})),n.addEventListener("mousedown",(function(e){b(e,"tm",t)})),r.addEventListener("mousedown",(function(e){b(e,"tr",t)})),o.addEventListener("mousedown",(function(e){b(e,"mr",t)})),s.addEventListener("mousedown",(function(e){b(e,"br",t)})),a.addEventListener("mousedown",(function(e){b(e,"bm",t)})),h.addEventListener("mousedown",(function(e){b(e,"bl",t)})),u.addEventListener("mousedown",(function(e){b(e,"ml",t)})),t.bindResizeMove=v.bind(t),window.addEventListener("mousemove",t.bindResizeMove),t.bindResizeUp=y.bind(t),window.addEventListener("mouseup",t.bindResizeUp),d.appendChild(i),d.appendChild(n),d.appendChild(r),d.appendChild(o),d.appendChild(s),d.appendChild(a),d.appendChild(h),d.appendChild(u)}function E(t){for(var e=0;e<t.resizeHandle.length;e++)t.domEl.removeChild(t.resizeHandle[e]);t.resizeHandle=[],window.removeEventListener("mousemove",t.bindResizeMove),window.removeEventListener("mouseup",t.bindResizeUp)}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function z(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?O(Object(i),!0).forEach((function(e){_(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):O(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function _(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.r(e),t.d(e,{Accelerator:()=>S,VueAccelerator:()=>P});var L=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(M(this,t),!e)throw Error("Accelerator 必须绑定一个dom元素");if(!e.parentNode)throw Error("Accelerator 必须有父元素");var n=s(e),r=a(e),o=h(e),l=u(e);this.config=z(z({},{id:t.ID,x:o||t.x,y:l||t.y,width:n||t.width,height:r||t.height,autoCount:t.autoCount,dragable:t.dragable,dragOutable:t.dragOutable,resizeable:t.resizeable}),i),this.config.id=t.ID,this.domEl=e,this.parentEl=e.parentNode,this.parentElWidth=s(this.parentEl),this.parentElHeight=a(this.parentEl),this.id=null,this.x=null,this.y=null,this.width=null,this.height=null,this.autoCount=!1,this.dragable=!0,this.dragOutable=!0,this.resizeable=!0,this.dragOrign={x:0,y:0},this.resizeOrign={x:0,y:0},this.isdragging=!1,this.resizeMode=null,this.watchParentInterval=null,this._init()}var e,i;return e=t,(i=[{key:"_init",value:function(){this._computedConfig(this.config),console.log(this),this.parentEl.style.position="relative",this.parentEl.style.overflow="visible",this._setStyle(),this.autoCount&&this._updateStaticConfig(),t.ID++,t._instanceList.push(this),this.watchParentInterval=setInterval(this.resize.bind(this),300),f(this),w(this)}},{key:"_computedConfig",value:function(t){this.id=t.id,this.x=r(t.x,this.parentElWidth),this.y=r(t.y,this.parentElHeight),this.width=r(t.width,this.parentElWidth),this.height=r(t.height,this.parentElHeight),this.x1={num:this.x.num+this.width.num,originUnit:this.x.originUnit},this.y1={num:this.y.num+this.height.num,originUnit:this.y.originUnit},this.autoCount=t.autoCount,this.dragable=t.dragable,this.dragOutable=t.dragOutable,this.resizeable=t.resizeable}},{key:"_setStyle",value:function(){this.domEl.style.position="absolute",this.domEl.style.left=this.x.num+"px",this.domEl.style.top=this.y.num+"px",this.domEl.style.width=this.width.num+"px",this.domEl.style.height=this.height.num+"px"}},{key:"_updatePositionConfig",value:function(){this.config.x=o(this.x,this.parentElWidth),this.config.y=o(this.y,this.parentElHeight),this.config.width=o(this.width,this.parentElWidth),this.config.height=o(this.height,this.parentElHeight)}},{key:"_updateStaticConfig",value:function(){var e=this.x.num+this.width.num,i=this.y.num;e+this.width.num>this.parentElWidth&&(e=0,i=this.y.num+this.height.num),t.x=o({num:e,originUnit:this.x.originUnit},this.parentElWidth),t.y=o({num:i,originUnit:this.y.originUnit},this.parentElHeight),t.width=o(this.width,this.parentElWidth),t.height=o(this.height,this.parentElHeight),t.autoCount=this.autoCount,t.dragable=this.dragable,t.dragOutable=this.dragOutable,t.resizeable=this.resizeable}},{key:"attr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=x(t),n=this.dragable,r=this.resizeable;if("string"===i){if(!e&&!1!==e)return this.config[t];"id"!=t&&(this.config[t]=e)}else"object"===i&&(t.id&&delete t.id,this.config=z(z({},this.config),t));this._computedConfig(this.config),this._setStyle(),this.dragable!=n&&(this.dragable?f(this):p(this)),this.resizeable!=r&&(this.resizeable?w(this):E(this))}},{key:"resize",value:function(){var t=s(this.parentEl),e=a(this.parentEl);t==this.parentElWidth&&e==this.parentElHeight||(console.log("父元素大小变了啊喂"),this.parentElWidth=t,this.parentElHeight=e,this._computedConfig(this.config),this._setStyle())}},{key:"destroy",value:function(){var e=this;clearInterval(this.watchParentInterval),p(this),E(this),this.watchParentInterval=null;var i=t._instanceList.findIndex((function(t){return e.id===t.id}));t._instanceList.splice(i,1)}}])&&C(e.prototype,i),t}();!function(t){t.ID=1,t.x=0,t.y=0,t.width="100px",t.height="100px",t.autoCount=!1,t.dragable=!0,t.dragOutable=!0,t.resizeable=!0,t._instanceList=[],t.setStaticConfig=function(e){t.x=e.x||t.x,t.y=e.y||t.y,t.width=e.width||t.width,t.height=e.height||t.height,t.autoCount=e.autoCount||t.autoCount,t.dragable=e.dragable||t.dragable,t.dragOutable=e.dragOutable||t.dragOutable,t.resizeable=e.resizeable||t.resizeable},t.destroyAll=function(){for(var e=0;e<t._instanceList.length;e++)t._instanceList[e].destroy(),e--}}(L),window.Accelerator=L;const S=L;var k={inserted:function(t,e){t.ackun=new S(t,e.value)},update:function(t,e){t.ackun.attr(e.value)},unbind:function(t){t.ackun.destroy()}};const P={install:function(t){t.directive("accelerator",k)}};return e})()}));