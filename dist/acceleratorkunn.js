!function(t,i){if("object"==typeof exports&&"object"==typeof module)module.exports=i();else if("function"==typeof define&&define.amd)define([],i);else{var e=i();for(var n in e)("object"==typeof exports?exports:t)[n]=e[n]}}(self,(function(){return(()=>{"use strict";var t={d:(i,e)=>{for(var n in e)t.o(e,n)&&!t.o(i,n)&&Object.defineProperty(i,n,{enumerable:!0,get:e[n]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},i={};function e(t){var i=/([0-9]+\.*[0-9]*)\s*([a-zA-z%]*)/gi.exec(t);return i?{num:parseFloat(i[1])||0,unit:"px"!==i[2]&&"%"!==i[2]?"px":i[2]}:{num:0,unit:"px"}}function n(){return{width:document.body.clientWidth,height:document.body.clientHeight}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n().width;if(!t)return{num:0,originUnit:"px"};var o=e(t);return"px"===o.unit?{num:o.num,originUnit:o.unit}:"%"===o.unit?{num:o.num*parseFloat(i)/100,originUnit:o.unit}:void 0}function r(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n().width;return"px"===t.originUnit?t.num+t.originUnit:"%"===t.originUnit?100*parseFloat(t.num)/parseFloat(i)+t.originUnit:void 0}function s(t){return t.offsetWidth}function a(t){return t.offsetHeight}function h(t){var i=getComputedStyle(t);return"absolute"===i.position?i.left:""}function u(t){var i=getComputedStyle(t);return"absolute"===i.position?i.top:""}function l(t){this.dragOrign.x=t.pageX,this.dragOrign.y=t.pageY,this.isdragging=!0}function d(t){if(this.isdragging){var i=t.pageX-this.dragOrign.x,e=t.pageY-this.dragOrign.y,n=this.x.num+i,o=this.y.num+e;if(!this.dragOutable){var r=this.parentElWidth-this.width.num,s=this.parentElHeight-this.height.num;n<0&&(n=0),n>r&&(n=r),o<0&&(o=0),o>s&&(o=s)}this.x.num=n,this.y.num=o,this.dragOrign.x=t.pageX,this.dragOrign.y=t.pageY,this._setStyle(),this._updatePositionConfig()}}function g(t){this.isdragging&&(this.isdragging=!1)}function c(t){this.isdragging=!1}function f(t){t.dragable&&(t.bindMousedown=l.bind(t),t.domEl.addEventListener("mousedown",t.bindMousedown),t.bindMouseMove=d.bind(t),window.addEventListener("mousemove",t.bindMouseMove),t.bindMouseLeave=g.bind(t),window.addEventListener("mouseleave",t.bindMouseLeave,!1),t.bindMouseUp=c.bind(t),window.addEventListener("mouseup",t.bindMouseUp))}function p(t){t.domEl.removeEventListener("mousedown",t.bindMousedown),window.removeEventListener("mousemove",t.bindMouseMove),window.removeEventListener("onMouseleave",t.bindMouseLeave),window.removeEventListener("mouseup",t.bindMouseUp)}function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?y(Object(e),!0).forEach((function(i){m(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):y(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function m(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function w(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function E(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.r(i),t.d(i,{Accelerator:()=>x,VueAccelerator:()=>_});var O=function(){function t(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w(this,t),!i)throw Error("Accelerator 必须绑定一个dom元素");if(!i.parentNode)throw Error("Accelerator 必须有父元素");var n=s(i),o=a(i),r=h(i),l=u(i);this.config=v(v({},{id:t.ID,x:r||t.x,y:l||t.y,width:n||t.width,height:o||t.height,autoCount:t.autoCount,dragable:t.dragable,dragOutable:t.dragOutable}),e),this.config.id=t.ID,this.domEl=i,this.parentEl=i.parentNode,this.parentElWidth=s(this.parentEl),this.parentElHeight=a(this.parentEl),this.id=null,this.x=null,this.y=null,this.width=null,this.height=null,this.autoCount=!1,this.dragable=!0,this.dragOutable=!0,this.dragOrign={x:0,y:0},this.isdragging=!1,this.watchParentInterval=null,this._init()}var i,e;return i=t,(e=[{key:"_init",value:function(){this._computedConfig(this.config),console.log(this),this.parentEl.style.position="relative",this.parentEl.style.overflow="visible",this._setStyle(),this.autoCount&&this._updateStaticConfig(),t.ID++,t._instanceList.push(this),this.watchParentInterval=setInterval(this.resize.bind(this),300),f(this)}},{key:"_computedConfig",value:function(t){this.id=t.id,this.x=o(t.x,this.parentElWidth),this.y=o(t.y,this.parentElHeight),this.width=o(t.width,this.parentElWidth),this.height=o(t.height,this.parentElHeight),this.autoCount=t.autoCount,this.dragable=t.dragable,this.dragOutable=t.dragOutable}},{key:"_setStyle",value:function(){this.domEl.style.position="absolute",this.domEl.style.left=this.x.num+"px",this.domEl.style.top=this.y.num+"px",this.domEl.style.width=this.width.num+"px",this.domEl.style.height=this.height.num+"px"}},{key:"_updatePositionConfig",value:function(){this.config.x=r(this.x,this.parentElWidth),this.config.y=r(this.y,this.parentElHeight),this.config.width=r(this.width,this.parentElWidth),this.config.height=r(this.height,this.parentElHeight)}},{key:"_updateStaticConfig",value:function(){var i=this.x.num+this.width.num,e=this.y.num;i+this.width.num>this.parentElWidth&&(i=0,e=this.y.num+this.height.num),t.x=r({num:i,originUnit:this.x.originUnit},this.parentElWidth),t.y=r({num:e,originUnit:this.y.originUnit},this.parentElHeight),t.width=r(this.width,this.parentElWidth),t.height=r(this.height,this.parentElHeight),t.autoCount=this.autoCount,t.dragable=this.dragable,t.dragOutable=this.dragOutable}},{key:"attr",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=b(t),n=this.dragable;if("string"===e){if(!i&&!1!==i)return this.config[t];"id"!=t&&(this.config[t]=i)}else"object"===e&&(t.id&&delete t.id,this.config=v(v({},this.config),t));this._computedConfig(this.config),this._setStyle(),this.dragable!=n&&(this.dragable?f(this):p(this))}},{key:"resize",value:function(){var t=s(this.parentEl),i=a(this.parentEl);t==this.parentElWidth&&i==this.parentElHeight||(console.log("父元素大小变了啊喂"),this.parentElWidth=t,this.parentElHeight=i,this._computedConfig(this.config),this._setStyle())}},{key:"destroy",value:function(){var i=this;clearInterval(this.watchParentInterval),p(this),this.watchParentInterval=null;var e=t._instanceList.findIndex((function(t){return i.id===t.id}));t._instanceList.splice(e,1)}}])&&E(i.prototype,e),t}();!function(t){t.ID=1,t.x=0,t.y=0,t.width="100px",t.height="100px",t.autoCount=!1,t.dragable=!0,t.dragOutable=!0,t._instanceList=[],t.setStaticConfig=function(i){t.x=i.x||t.x,t.y=i.y||t.y,t.width=i.width||t.width,t.height=i.height||t.height,t.autoCount=i.autoCount||t.autoCount,t.dragable=i.dragable||t.dragable,t.dragOutable=i.dragOutable||t.dragOutable},t.destroyAll=function(){for(var i=0;i<t._instanceList.length;i++)t._instanceList[i].destroy(),i--}}(O),window.Accelerator=O;const x=O;var C={inserted:function(t,i){t.ackun=new x(t,i.value)},update:function(t,i){t.ackun.attr(i.value)},unbind:function(t){t.ackun.destroy()}};const _={install:function(t){t.directive("accelerator",C)}};return i})()}));